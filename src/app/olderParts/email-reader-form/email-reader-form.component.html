<div>
  <header class="panel-heading">
    <h1 class="ms-5">Email Reader</h1>
  </header>
  <div class="container">
    <h2 class="mt-3">Current Mail </h2>
    <form #emailForm="ngForm" (ngSubmit)="sendForm(emailForm.value)">
      <div class="form-group">
        <label for="fromEmail" class="form-label">Sender's email address</label>
        <input id="fromEmail" class="form-control" type="text" required [(ngModel)]="email.from" name="fromEmail" #fromEmail="ngModel"
               [ngClass]="fromEmail.valid || fromEmail.pristine ? '': 'bg-danger'"
               pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$">
        <div id="originEmailHelp" class="form-text">The sender of the email.</div>
        <div class="alert alert-danger" *ngIf="fromEmail.touched && !fromEmail.valid">
          <div *ngIf="fromEmail.errors?.required">Sender-Email is required.</div>
          <div *ngIf="fromEmail.errors?.pattern">Sender-Email does not match the required pattern.</div>
        </div>
      </div>

      <div class="form-group">
        <label for="destinationEmail" class="form-label">Receiver's email address</label>
        <input id="destinationEmail" class="form-control" type="text" required [(ngModel)]="email.to" name="destinationEmail" #destinationEmail="ngModel"
               [ngClass]="destinationEmail.valid || destinationEmail.pristine ? '': 'bg-danger'"
               pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$">

        <div id="destinationMailHelp" class="form-text">The receiver of the email.</div>
        <div class="alert alert-danger" *ngIf="destinationEmail.touched && !destinationEmail.valid">
          <div *ngIf="destinationEmail.errors?.required">Receiver-Email is required.</div>
          <div *ngIf="destinationEmail.errors?.pattern">Receiver-Email does not match the required pattern.</div>
        </div>
      </div>

      <div class="form-group">
        <label for="subject" class="form-label">Subject</label>
        <input id="subject" class="form-control" type="text" required maxlength="50" [(ngModel)]="email.subject"
               name="subject" #subject="ngModel"
               [ngClass]="subject.valid || subject.pristine ? '': 'bg-danger'">
        <div id="subjectHelp" class="form-text">The subject of the email.</div>
        <div class="alert alert-danger" *ngIf="subject.touched && !subject.valid">
          <div *ngIf="subject.errors?.required">Subject is required.</div>
        </div>
      </div>

      <div class="form-group">
        <label for="body" class="form-label">Body</label>
        <input id="body" class="form-control" type="text" [(ngModel)]="email.body"
               name="body">
        <div id="bodyHelp" class="form-text">The (optional) body of the email.</div>
      </div>


      <div class="text-right">
        <button class="btn btn-primary" type="button" (click)="clear()">Reset form</button>

        <button class="btn btn-primary float-end" type="submit" [disabled]="!emailForm.form.valid">Submit
          Form
        </button>


      </div>
    </form>

    <hr/>
    <div class="viewer mt-3">
    <h3> List of Mails </h3>

    <br>
    <table class="table">
      <thead>
      <tr>
        <th scope="col">From</th>
        <th scope="col">To</th>
        <th scope="col">Subject</th>
        <th scope="col">Body</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let email of emailList">
        <td> {{email.from}} </td>
        <td> {{email.to}} </td>
        <td> {{email.subject}} </td>
        <td> {{email.body}} </td>
      </tr>
      </tbody>
    </table>
    </div>
  </div>
</div>
